<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Downloading and using data from bdl • bdl</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Downloading and using data from bdl">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">bdl</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/bdl.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/statisticspoland/R_Package_to_API_BDL">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Downloading and using data from bdl</h1>
                        <h4 class="author">Krzysztof Kania</h4>
            
            <h4 class="date">2019-08-08</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/statisticspoland/R_Package_to_API_BDL/blob/master/vignettes/bdl.Rmd"><code>vignettes/bdl.Rmd</code></a></small>
      <div class="hidden name"><code>bdl.Rmd</code></div>

    </div>

    
    
<p>The <code>bdl</code> package is an interface to Local Data Bank(Bank Danych Lokalnych - bdl) <a href="https://bdl.stat.gov.pl/api/v1/home">API</a> with set of useful tools like quick plotting using data from data bank.</p>
<div id="intro" class="section level2">
<h2 class="hasAnchor">
<a href="#intro" class="anchor"></a>Intro</h2>
<p>Working with <code>bdl</code> is based on id codes. Most of data downloading functions requires specifying one or vector of multiple unit or variable ids as a string.</p>
<p>It is recommended to use private API key which u can get <a href="https://bdl.stat.gov.pl/api/v1/client">here</a>. To apply use: <code><a href="https://rdrr.io/r/base/options.html">options(bdl.api_private_key ="your_key")</a></code></p>
<p>Also every function returns data by default in Polish. If you would like get data in English just add <code>lang = "en"</code> to any function.</p>
<p>Any metadata information (unit levels, aggregates, NUTS code explanation etc.) can be found <a href="https://bdl.stat.gov.pl/BDL/metadane">here</a>.</p>
</div>
<div id="searching-unit-id" class="section level2">
<h2 class="hasAnchor">
<a href="#searching-unit-id" class="anchor"></a>Searching unit id</h2>
<p>When searching for unit id we can use two methods:</p>
<ul>
<li>Direct search <code><a href="../reference/search_units.html">search_units()</a></code>
</li>
<li>Tree listing by <code><a href="../reference/get_units.html">get_units()</a></code>
</li>
</ul>
<p>Units consist of 6 levels:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw"><a href="../reference/get_levels.html">get_levels</a></span>()</a>
<a class="sourceLine" id="cb1-2" title="2"><span class="co">#&gt; # A tibble: 8 x 2</span></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="co">#&gt;      id name                </span></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="co">#&gt;   &lt;int&gt; &lt;chr&gt;               </span></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="co">#&gt; 1     0 Poziom Polski       </span></a>
<a class="sourceLine" id="cb1-6" title="6"><span class="co">#&gt; 2     1 Poziom Makroregionów</span></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="co">#&gt; 3     2 Poziom Województw   </span></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="co">#&gt; 4     3 Poziom Regionów     </span></a>
<a class="sourceLine" id="cb1-9" title="9"><span class="co">#&gt; # ... with 4 more rows</span></a></code></pre></div>
<p>Lowest - seventh level has own separate functions with suffix <code>localities</code>. Warning - localities functions have different set of arguments. Check package or API documentation for more info.</p>
<div id="direct-search" class="section level3">
<h3 class="hasAnchor">
<a href="#direct-search" class="anchor"></a>Direct search</h3>
<p>Direct searching <code><a href="../reference/search_units.html">search_units()</a></code> takes couple different arguments like:</p>
<ul>
<li>
<code>name</code> - required search phrase (can be empty string)</li>
<li>
<code>level</code> - narrows returned units to given level</li>
</ul>
<p>and more. To look for more arguments on any given function check package or API documentation.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="kw"><a href="../reference/search_units.html">search_units</a></span>(<span class="dt">name =</span> <span class="st">"wro"</span>)</a>
<a class="sourceLine" id="cb2-2" title="2"><span class="co">#&gt; # A tibble: 15 x 6</span></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="co">#&gt;   id           name                  parentId    level kind  hasDescription</span></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="co">#&gt;   &lt;chr&gt;        &lt;chr&gt;                 &lt;chr&gt;       &lt;int&gt; &lt;chr&gt; &lt;lgl&gt;         </span></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="co">#&gt; 1 023016124083 Wronki                0230161240~     6 3     FALSE         </span></a>
<a class="sourceLine" id="cb2-6" title="6"><span class="co">#&gt; 2 023016124084 Wronki - miasto       0230161240~     6 4     FALSE         </span></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="co">#&gt; 3 023016124085 Wronki - obszar wiej~ 0230161240~     6 5     FALSE         </span></a>
<a class="sourceLine" id="cb2-8" title="8"><span class="co">#&gt; 4 030210400000 PODREGION WROCŁAWSKI  0302100000~     4 &lt;NA&gt;  FALSE         </span></a>
<a class="sourceLine" id="cb2-9" title="9"><span class="co">#&gt; # ... with 11 more rows</span></a>
<a class="sourceLine" id="cb2-10" title="10"><span class="kw"><a href="../reference/search_units.html">search_units</a></span>(<span class="dt">name =</span> <span class="st">""</span>, <span class="dt">level =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb2-11" title="11"><span class="co">#&gt; # A tibble: 17 x 5</span></a>
<a class="sourceLine" id="cb2-12" title="12"><span class="co">#&gt;   id           name                 parentId     level hasDescription</span></a>
<a class="sourceLine" id="cb2-13" title="13"><span class="co">#&gt;   &lt;chr&gt;        &lt;chr&gt;                &lt;chr&gt;        &lt;int&gt; &lt;lgl&gt;         </span></a>
<a class="sourceLine" id="cb2-14" title="14"><span class="co">#&gt; 1 011210000000 REGION MAŁOPOLSKIE   011200000000     3 FALSE         </span></a>
<a class="sourceLine" id="cb2-15" title="15"><span class="co">#&gt; 2 012410000000 REGION ŚLĄSKIE       012400000000     3 FALSE         </span></a>
<a class="sourceLine" id="cb2-16" title="16"><span class="co">#&gt; 3 020810000000 REGION LUBUSKIE      020800000000     3 FALSE         </span></a>
<a class="sourceLine" id="cb2-17" title="17"><span class="co">#&gt; 4 023010000000 REGION WIELKOPOLSKIE 023000000000     3 FALSE         </span></a>
<a class="sourceLine" id="cb2-18" title="18"><span class="co">#&gt; # ... with 13 more rows</span></a></code></pre></div>
</div>
<div id="tree-listing" class="section level3">
<h3 class="hasAnchor">
<a href="#tree-listing" class="anchor"></a>Tree listing</h3>
<p>To get all units available in local data bank run <code><a href="../reference/get_units.html">get_units()</a></code> without any argument(warning - it can eat data limit very fast around 4.5k rows):</p>
<p>To narrow the list add <code>unitParentId</code>. Function will return all children units for a given parent at all levels. Add <code>level</code> argument to filter units even further.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="kw"><a href="../reference/get_units.html">get_units</a></span>(<span class="dt">parentId =</span> <span class="st">"000000000000"</span>, <span class="dt">level =</span> <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb3-2" title="2"><span class="co">#&gt; # A tibble: 382 x 6</span></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="co">#&gt;   id           name              parentId     level kind  hasDescription</span></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="co">#&gt;   &lt;chr&gt;        &lt;chr&gt;             &lt;chr&gt;        &lt;int&gt; &lt;chr&gt; &lt;lgl&gt;         </span></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="co">#&gt; 1 011212001000 Powiat bocheński  011212000000     5 1     FALSE         </span></a>
<a class="sourceLine" id="cb3-6" title="6"><span class="co">#&gt; 2 011212006000 Powiat krakowski  011212000000     5 1     FALSE         </span></a>
<a class="sourceLine" id="cb3-7" title="7"><span class="co">#&gt; 3 011212008000 Powiat miechowski 011212000000     5 1     FALSE         </span></a>
<a class="sourceLine" id="cb3-8" title="8"><span class="co">#&gt; 4 011212009000 Powiat myślenicki 011212000000     5 1     FALSE         </span></a>
<a class="sourceLine" id="cb3-9" title="9"><span class="co">#&gt; # ... with 378 more rows</span></a></code></pre></div>
</div>
</div>
<div id="searching-subject-and-variable-id" class="section level2">
<h2 class="hasAnchor">
<a href="#searching-subject-and-variable-id" class="anchor"></a>Searching subject and variable id</h2>
<p>Subjects are themed directories of variables.</p>
<p>We have two searching methods for both subjects and variables:</p>
<ul>
<li>Direct search <code><a href="../reference/search_variables.html">search_variables()</a></code> and <code><a href="../reference/search_subjects.html">search_subjects()</a></code>
</li>
<li>Subject tree listing by <code><a href="../reference/get_subjects.html">get_subjects()</a></code> and <code><a href="../reference/get_variables.html">get_variables()</a></code>
</li>
</ul>
<div id="subjects" class="section level3">
<h3 class="hasAnchor">
<a href="#subjects" class="anchor"></a>Subjects</h3>
<p>To directly search for subject we just provide search phrase:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"><span class="kw"><a href="../reference/search_subjects.html">search_subjects</a></span>(<span class="st">"lud"</span>)</a>
<a class="sourceLine" id="cb4-2" title="2"><span class="co">#&gt; # A tibble: 125 x 6</span></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="co">#&gt;   id    name                  hasVariables children   levels    parentId</span></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt;                 &lt;lgl&gt;        &lt;list&gt;     &lt;list&gt;    &lt;chr&gt;   </span></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="co">#&gt; 1 K3    LUDNOŚĆ               FALSE        &lt;chr [7]&gt;  &lt;int [5]&gt; &lt;NA&gt;    </span></a>
<a class="sourceLine" id="cb4-6" title="6"><span class="co">#&gt; 2 G7    STAN LUDNOŚCI         FALSE        &lt;chr [18]&gt; &lt;int [4]&gt; K3      </span></a>
<a class="sourceLine" id="cb4-7" title="7"><span class="co">#&gt; 3 G260  STAN ZDROWIA LUDNOŚCI FALSE        &lt;chr [5]&gt;  &lt;int [1]&gt; K22     </span></a>
<a class="sourceLine" id="cb4-8" title="8"><span class="co">#&gt; 4 G299  NSP 2002 - LUDNOŚĆ    FALSE        &lt;chr [29]&gt; &lt;int [4]&gt; K31     </span></a>
<a class="sourceLine" id="cb4-9" title="9"><span class="co">#&gt; # ... with 121 more rows</span></a></code></pre></div>
<p>Subjects consist of 3 levels (categories, groups, subgroups) - <code>K</code>, <code>G</code> and <code>P</code> respectively. The fourth level of subject (child of subgroup) would be variables.</p>
<p>To list all top level subjects use <code><a href="../reference/get_subjects.html">get_subjects()</a></code>:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1"><span class="kw"><a href="../reference/get_subjects.html">get_subjects</a></span>()</a>
<a class="sourceLine" id="cb5-2" title="2"><span class="co">#&gt; # A tibble: 32 x 5</span></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="co">#&gt;   id    name                  hasVariables children  levels   </span></a>
<a class="sourceLine" id="cb5-4" title="4"><span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt;                 &lt;lgl&gt;        &lt;list&gt;    &lt;list&gt;   </span></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="co">#&gt; 1 K1    PODZIAŁ TERYTORIALNY  FALSE        &lt;chr [2]&gt; &lt;int [3]&gt;</span></a>
<a class="sourceLine" id="cb5-6" title="6"><span class="co">#&gt; 2 K2    SAMORZĄD TERYTORIALNY FALSE        &lt;chr [9]&gt; &lt;int [3]&gt;</span></a>
<a class="sourceLine" id="cb5-7" title="7"><span class="co">#&gt; 3 K3    LUDNOŚĆ               FALSE        &lt;chr [7]&gt; &lt;int [5]&gt;</span></a>
<a class="sourceLine" id="cb5-8" title="8"><span class="co">#&gt; 4 K4    RYNEK PRACY           FALSE        &lt;chr [9]&gt; &lt;int [4]&gt;</span></a>
<a class="sourceLine" id="cb5-9" title="9"><span class="co">#&gt; # ... with 28 more rows</span></a></code></pre></div>
<p>To list sub-subjects to given category or group use <code><a href="../reference/get_subjects.html">get_subjects()</a></code> with <code>parentId</code> argument:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1"><span class="kw"><a href="../reference/get_subjects.html">get_subjects</a></span>(<span class="dt">parentId =</span> <span class="st">"K3"</span>)</a>
<a class="sourceLine" id="cb6-2" title="2"><span class="co">#&gt; # A tibble: 7 x 6</span></a>
<a class="sourceLine" id="cb6-3" title="3"><span class="co">#&gt;   id    parentId name                       hasVariables children  levels  </span></a>
<a class="sourceLine" id="cb6-4" title="4"><span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;                      &lt;lgl&gt;        &lt;list&gt;    &lt;list&gt;  </span></a>
<a class="sourceLine" id="cb6-5" title="5"><span class="co">#&gt; 1 G7    K3       STAN LUDNOŚCI              FALSE        &lt;chr [18~ &lt;int [4~</span></a>
<a class="sourceLine" id="cb6-6" title="6"><span class="co">#&gt; 2 G8    K3       MIGRACJE WEWNĘTRZNE I ZAG~ FALSE        &lt;chr [14~ &lt;int [3~</span></a>
<a class="sourceLine" id="cb6-7" title="7"><span class="co">#&gt; 3 G10   K3       GOSPODARSTWA DOMOWE        FALSE        &lt;chr [9]&gt; &lt;int [1~</span></a>
<a class="sourceLine" id="cb6-8" title="8"><span class="co">#&gt; 4 G534  K3       URODZENIA I ZGONY          FALSE        &lt;chr [13~ &lt;int [4~</span></a>
<a class="sourceLine" id="cb6-9" title="9"><span class="co">#&gt; # ... with 3 more rows</span></a>
<a class="sourceLine" id="cb6-10" title="10"><span class="kw"><a href="../reference/get_subjects.html">get_subjects</a></span>(<span class="dt">parentId =</span> <span class="st">"G7"</span>)</a>
<a class="sourceLine" id="cb6-11" title="11"><span class="co">#&gt; # A tibble: 18 x 6</span></a>
<a class="sourceLine" id="cb6-12" title="12"><span class="co">#&gt;   id    parentId name                         hasVariables children  levels</span></a>
<a class="sourceLine" id="cb6-13" title="13"><span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;                        &lt;lgl&gt;        &lt;list&gt;    &lt;list&gt;</span></a>
<a class="sourceLine" id="cb6-14" title="14"><span class="co">#&gt; 1 P1336 G7       Ludność wg miejsca zamieszk~ TRUE         &lt;list [0~ &lt;int ~</span></a>
<a class="sourceLine" id="cb6-15" title="15"><span class="co">#&gt; 2 P1341 G7       Ludność wg pojedynczych roc~ TRUE         &lt;list [0~ &lt;int ~</span></a>
<a class="sourceLine" id="cb6-16" title="16"><span class="co">#&gt; 3 P1342 G7       Ludność w wieku przedproduk~ TRUE         &lt;list [0~ &lt;int ~</span></a>
<a class="sourceLine" id="cb6-17" title="17"><span class="co">#&gt; 4 P2137 G7       Ludność wg grup wieku i płci TRUE         &lt;list [0~ &lt;int ~</span></a>
<a class="sourceLine" id="cb6-18" title="18"><span class="co">#&gt; # ... with 14 more rows</span></a></code></pre></div>
</div>
<div id="variables" class="section level3">
<h3 class="hasAnchor">
<a href="#variables" class="anchor"></a>Variables</h3>
<p>Firstly you can list variables for given subject (subgroup):</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1"><span class="kw"><a href="../reference/get_variables.html">get_variables</a></span>(<span class="st">"P2425"</span>)</a>
<a class="sourceLine" id="cb7-2" title="2"><span class="co">#&gt; # A tibble: 3 x 6</span></a>
<a class="sourceLine" id="cb7-3" title="3"><span class="co">#&gt;       id subjectId n1                   level measureUnitId measureUnitName</span></a>
<a class="sourceLine" id="cb7-4" title="4"><span class="co">#&gt;    &lt;int&gt; &lt;chr&gt;     &lt;chr&gt;                &lt;int&gt;         &lt;int&gt; &lt;chr&gt;          </span></a>
<a class="sourceLine" id="cb7-5" title="5"><span class="co">#&gt; 1  60559 P2425     ludność na 1 km2         6            26 osoba          </span></a>
<a class="sourceLine" id="cb7-6" title="6"><span class="co">#&gt; 2 458238 P2425     gęstość zaludnienia~     6            26 osoba          </span></a>
<a class="sourceLine" id="cb7-7" title="7"><span class="co">#&gt; 3 458603 P2425     zmiana liczby ludno~     6            26 osoba</span></a></code></pre></div>
<p>Secondly you can direct search variables with <code><a href="../reference/search_variables.html">search_variables()</a></code>. You can use empty string as <code>name</code> to list all variables but I strongly advise against as it has around 40 000 rows and you will probably hit data limit.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1"><span class="kw"><a href="../reference/search_variables.html">search_variables</a></span>(<span class="st">"samochod"</span>)</a>
<a class="sourceLine" id="cb8-2" title="2"><span class="co">#&gt; # A tibble: 399 x 8</span></a>
<a class="sourceLine" id="cb8-3" title="3"><span class="co">#&gt;      id subjectId n1      n2      level measureUnitId measureUnitName n3   </span></a>
<a class="sourceLine" id="cb8-4" title="4"><span class="co">#&gt;   &lt;int&gt; &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt;   &lt;int&gt;         &lt;int&gt; &lt;chr&gt;           &lt;chr&gt;</span></a>
<a class="sourceLine" id="cb8-5" title="5"><span class="co">#&gt; 1  1688 P1883     samoch~ ogółem      6             9 szt.            &lt;NA&gt; </span></a>
<a class="sourceLine" id="cb8-6" title="6"><span class="co">#&gt; 2  1689 P1883     samoch~ gospod~     6             9 szt.            &lt;NA&gt; </span></a>
<a class="sourceLine" id="cb8-7" title="7"><span class="co">#&gt; 3  1690 P1883     samoch~ ogółem      6             9 szt.            &lt;NA&gt; </span></a>
<a class="sourceLine" id="cb8-8" title="8"><span class="co">#&gt; 4  1691 P1883     samoch~ gospod~     6             9 szt.            &lt;NA&gt; </span></a>
<a class="sourceLine" id="cb8-9" title="9"><span class="co">#&gt; # ... with 395 more rows</span></a></code></pre></div>
<p>You can narrow search to given subject - subgroup:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1"><span class="kw"><a href="../reference/search_variables.html">search_variables</a></span>(<span class="st">"lud"</span>, <span class="dt">subjectId =</span> <span class="st">"P2425"</span>)</a>
<a class="sourceLine" id="cb9-2" title="2"><span class="co">#&gt; # A tibble: 3 x 6</span></a>
<a class="sourceLine" id="cb9-3" title="3"><span class="co">#&gt;       id subjectId n1                   level measureUnitId measureUnitName</span></a>
<a class="sourceLine" id="cb9-4" title="4"><span class="co">#&gt;    &lt;int&gt; &lt;chr&gt;     &lt;chr&gt;                &lt;int&gt;         &lt;int&gt; &lt;chr&gt;          </span></a>
<a class="sourceLine" id="cb9-5" title="5"><span class="co">#&gt; 1  60559 P2425     ludność na 1 km2         6            26 osoba          </span></a>
<a class="sourceLine" id="cb9-6" title="6"><span class="co">#&gt; 2 458238 P2425     gęstość zaludnienia~     6            26 osoba          </span></a>
<a class="sourceLine" id="cb9-7" title="7"><span class="co">#&gt; 3 458603 P2425     zmiana liczby ludno~     6            26 osoba</span></a></code></pre></div>
</div>
</div>
<div id="downloading-data" class="section level2">
<h2 class="hasAnchor">
<a href="#downloading-data" class="anchor"></a>Downloading data</h2>
<p>If you picked unit and variable codes you are ready to download data. You can do this two ways: - Download data of multiple variables on single unit <code><a href="../reference/get_data_by_unit.html">get_data_by_unit()</a></code> - Download data of single variable on multiple units <code><a href="../reference/get_data_by_variable.html">get_data_by_variable()</a></code></p>
<div id="single-unit-multiple-variables" class="section level3">
<h3 class="hasAnchor">
<a href="#single-unit-multiple-variables" class="anchor"></a>Single unit, multiple variables</h3>
<p>We will use <code><a href="../reference/get_data_by_unit.html">get_data_by_unit()</a></code>. We specify our single unit as <code>unitId</code> string argument and variables by vector of strings. Optionally we can specify interested years of data. If not all available years.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1"><span class="kw"><a href="../reference/get_data_by_unit.html">get_data_by_unit</a></span>(<span class="dt">unitId =</span> <span class="st">"023200000000"</span>, <span class="dt">varId =</span>  <span class="st">"3643"</span>)</a>
<a class="sourceLine" id="cb10-2" title="2"><span class="co">#&gt; # A tibble: 20 x 6</span></a>
<a class="sourceLine" id="cb10-3" title="3"><span class="co">#&gt;   id    measureUnitId lastUpdate              year    val attrId</span></a>
<a class="sourceLine" id="cb10-4" title="4"><span class="co">#&gt;   &lt;chr&gt;         &lt;int&gt; &lt;chr&gt;                   &lt;chr&gt; &lt;dbl&gt;  &lt;int&gt;</span></a>
<a class="sourceLine" id="cb10-5" title="5"><span class="co">#&gt; 1 3643             26 2019-05-22T16:15:20.397 1999      1      1</span></a>
<a class="sourceLine" id="cb10-6" title="6"><span class="co">#&gt; 2 3643             26 2019-05-22T16:15:20.397 2000      2      1</span></a>
<a class="sourceLine" id="cb10-7" title="7"><span class="co">#&gt; 3 3643             26 2019-05-22T16:15:20.397 2001      4      1</span></a>
<a class="sourceLine" id="cb10-8" title="8"><span class="co">#&gt; 4 3643             26 2019-05-22T16:15:20.397 2002      3      1</span></a>
<a class="sourceLine" id="cb10-9" title="9"><span class="co">#&gt; # ... with 16 more rows</span></a>
<a class="sourceLine" id="cb10-10" title="10"><span class="kw"><a href="../reference/get_data_by_unit.html">get_data_by_unit</a></span>(<span class="dt">unitId =</span> <span class="st">"023200000000"</span>, <span class="dt">varId =</span>  <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"3643"</span>, <span class="st">"2137"</span>, <span class="st">"148190"</span>))</a>
<a class="sourceLine" id="cb10-11" title="11"><span class="co">#&gt; # A tibble: 49 x 6</span></a>
<a class="sourceLine" id="cb10-12" title="12"><span class="co">#&gt;   id    measureUnitId lastUpdate              year    val attrId</span></a>
<a class="sourceLine" id="cb10-13" title="13"><span class="co">#&gt;   &lt;chr&gt;         &lt;int&gt; &lt;chr&gt;                   &lt;chr&gt; &lt;dbl&gt;  &lt;int&gt;</span></a>
<a class="sourceLine" id="cb10-14" title="14"><span class="co">#&gt; 1 2137             18 2018-09-25T14:54:06.187 1998  10402      1</span></a>
<a class="sourceLine" id="cb10-15" title="15"><span class="co">#&gt; 2 2137             18 2018-09-25T14:54:06.187 1999  95582      1</span></a>
<a class="sourceLine" id="cb10-16" title="16"><span class="co">#&gt; 3 2137             18 2018-09-25T14:54:06.187 2000  12977      1</span></a>
<a class="sourceLine" id="cb10-17" title="17"><span class="co">#&gt; 4 2137             18 2018-09-25T14:54:06.187 2001   1486      1</span></a>
<a class="sourceLine" id="cb10-18" title="18"><span class="co">#&gt; # ... with 45 more rows</span></a></code></pre></div>
<p>To get more information about data we can add <code>type</code> argument and set it to <code>"label"</code> to add additional column with variable info.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1">df &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_data_by_unit.html">get_data_by_unit</a></span>(<span class="dt">unitId =</span> <span class="st">"023200000000"</span>, <span class="dt">varId =</span>  <span class="st">"3643"</span>, <span class="dt">type =</span> <span class="st">"label"</span>)</a></code></pre></div>
</div>
<div id="multiple-units-single-variable" class="section level3">
<h3 class="hasAnchor">
<a href="#multiple-units-single-variable" class="anchor"></a>Multiple units, single variable</h3>
<p>We will use <code><a href="../reference/get_data_by_variable.html">get_data_by_variable()</a></code>. We specify our single variable as <code>varId</code> string argument. If no <code>unitParentId</code> is provided function will return all available units for given variable. Setting <code>unitParentId</code> will return all available children units (on all levels). To narrow units level set <code>unitLevel</code>. Optionally we can specify interested years of data. If not all available years.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1"><span class="kw"><a href="../reference/get_data_by_variable.html">get_data_by_variable</a></span>(<span class="st">"420"</span>, <span class="dt">unitParentId =</span> <span class="st">"011210000000"</span>)</a>
<a class="sourceLine" id="cb12-2" title="2"><span class="co">#&gt; # A tibble: 294 x 5</span></a>
<a class="sourceLine" id="cb12-3" title="3"><span class="co">#&gt;   id           name               year     val attrId</span></a>
<a class="sourceLine" id="cb12-4" title="4"><span class="co">#&gt;   &lt;chr&gt;        &lt;chr&gt;              &lt;chr&gt;  &lt;dbl&gt;  &lt;int&gt;</span></a>
<a class="sourceLine" id="cb12-5" title="5"><span class="co">#&gt; 1 011210000000 REGION MAŁOPOLSKIE 1995   75956      1</span></a>
<a class="sourceLine" id="cb12-6" title="6"><span class="co">#&gt; 2 011210000000 REGION MAŁOPOLSKIE 1996   98534      1</span></a>
<a class="sourceLine" id="cb12-7" title="7"><span class="co">#&gt; 3 011210000000 REGION MAŁOPOLSKIE 1997  127267      1</span></a>
<a class="sourceLine" id="cb12-8" title="8"><span class="co">#&gt; 4 011210000000 REGION MAŁOPOLSKIE 1998  148881      1</span></a>
<a class="sourceLine" id="cb12-9" title="9"><span class="co">#&gt; # ... with 290 more rows</span></a>
<a class="sourceLine" id="cb12-10" title="10"><span class="kw"><a href="../reference/get_data_by_variable.html">get_data_by_variable</a></span>(<span class="st">"420"</span>, <span class="dt">unitLevel =</span> <span class="st">"4"</span>)</a>
<a class="sourceLine" id="cb12-11" title="11"><span class="co">#&gt; # A tibble: 1,246 x 5</span></a>
<a class="sourceLine" id="cb12-12" title="12"><span class="co">#&gt;   id           name                year    val attrId</span></a>
<a class="sourceLine" id="cb12-13" title="13"><span class="co">#&gt;   &lt;chr&gt;        &lt;chr&gt;               &lt;chr&gt; &lt;dbl&gt;  &lt;int&gt;</span></a>
<a class="sourceLine" id="cb12-14" title="14"><span class="co">#&gt; 1 011212000000 PODREGION KRAKOWSKI 1995   3063      1</span></a>
<a class="sourceLine" id="cb12-15" title="15"><span class="co">#&gt; 2 011212000000 PODREGION KRAKOWSKI 1996   1193      1</span></a>
<a class="sourceLine" id="cb12-16" title="16"><span class="co">#&gt; 3 011212000000 PODREGION KRAKOWSKI 1997   1704      1</span></a>
<a class="sourceLine" id="cb12-17" title="17"><span class="co">#&gt; 4 011212000000 PODREGION KRAKOWSKI 2000    117      1</span></a>
<a class="sourceLine" id="cb12-18" title="18"><span class="co">#&gt; # ... with 1,242 more rows</span></a></code></pre></div>
</div>
</div>
<div id="useful-tools" class="section level2">
<h2 class="hasAnchor">
<a href="#useful-tools" class="anchor"></a>Useful tools</h2>
<p>The <code>bdl</code> package provide couple of additional functions for summarizing and visualizing data.</p>
<div id="summary" class="section level3">
<h3 class="hasAnchor">
<a href="#summary" class="anchor"></a>Summary</h3>
<p>Data downloaded via <code><a href="../reference/get_data_by_unit.html">get_data_by_unit()</a></code> and <code><a href="../reference/get_data_by_variable.html">get_data_by_variable()</a></code> van be easily summarized by <code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code>:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1">df &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_data_by_variable.html">get_data_by_variable</a></span>(<span class="dt">varId =</span> <span class="st">"3643"</span>, <span class="dt">unitParentId =</span> <span class="st">"010000000000"</span>)</a>
<a class="sourceLine" id="cb13-2" title="2"><span class="kw"><a href="https://rdrr.io/r/base/summary.html">summary</a></span>(df)</a>
<a class="sourceLine" id="cb13-3" title="3"><span class="co">#&gt; # A tibble: 5 x 7</span></a>
<a class="sourceLine" id="cb13-4" title="4"><span class="co">#&gt; # Groups:   id [5]</span></a>
<a class="sourceLine" id="cb13-5" title="5"><span class="co">#&gt;   id           name                    mean   std   min   max variance</span></a>
<a class="sourceLine" id="cb13-6" title="6"><span class="co">#&gt;   &lt;chr&gt;        &lt;chr&gt;                  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb13-7" title="7"><span class="co">#&gt; 1 010000000000 MAKROREGION POŁUDNIOWY  8.35  2.18     4    12     4.77</span></a>
<a class="sourceLine" id="cb13-8" title="8"><span class="co">#&gt; 2 011200000000 MAŁOPOLSKIE             3.1   1.62     1     6     2.62</span></a>
<a class="sourceLine" id="cb13-9" title="9"><span class="co">#&gt; 3 011210000000 REGION MAŁOPOLSKIE      3.1   1.62     1     6     2.62</span></a>
<a class="sourceLine" id="cb13-10" title="10"><span class="co">#&gt; 4 012400000000 ŚLĄSKIE                 5.25  1.29     2     7     1.67</span></a>
<a class="sourceLine" id="cb13-11" title="11"><span class="co">#&gt; # ... with 1 more row</span></a></code></pre></div>
</div>
<div id="plotting" class="section level3">
<h3 class="hasAnchor">
<a href="#plotting" class="anchor"></a>Plotting</h3>
<p>Plotting functions in this package are interfaces to data downloading functions. Some of them require specifying <code>data_type</code> - method for downloading data and rest of arguments will be relevant to specified <code>data_type</code> function. Check documentation for more details.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1"><span class="kw"><a href="../reference/line_plot.html">line_plot</a></span>(<span class="dt">data_type =</span> <span class="st">"unit"</span>, <span class="dt">unitId =</span> <span class="st">"000000000000"</span>, <span class="dt">varId =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"415"</span>,<span class="st">"420"</span>))</a></code></pre></div>
<p><img src="bdl_files/figure-html/unnamed-chunk-14-1.png" width="960"></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1"><span class="kw"><a href="../reference/pie_plot.html">pie_plot</a></span>(<span class="dt">data_type =</span><span class="st">"variable"</span> ,<span class="st">"60559"</span>, <span class="st">"2006"</span>, <span class="dt">unitLevel =</span> <span class="st">"2"</span>)</a></code></pre></div>
<p><img src="bdl_files/figure-html/unnamed-chunk-15-1.png" width="960"></p>
<p>Scatter plot is unique - requires vector of only 2 variables.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" title="1"><span class="kw"><a href="../reference/scatter_2var_plot.html">scatter_2var_plot</a></span>(<span class="dt">data_type =</span><span class="st">"variable"</span> ,<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"60559"</span>,<span class="st">"415"</span>), <span class="dt">unitLevel =</span> <span class="st">"2"</span>)</a>
<a class="sourceLine" id="cb16-2" title="2"><span class="co">#&gt; Joining, by = c("id", "name", "year")</span></a></code></pre></div>
<p><img src="bdl_files/figure-html/unnamed-chunk-16-1.png" width="960"></p>
</div>
<div id="map-generation" class="section level3">
<h3 class="hasAnchor">
<a href="#map-generation" class="anchor"></a>Map generation</h3>
<p>With <code>bdl</code> package comes <code>bdl.maps</code> dataset containing spatial maps for each Poland’s level. <code><a href="../reference/generate_map.html">generate_map()</a></code> use them to generate maps filled with bdl data. Use <code>unitLevel</code> to change type of map. The lower level is chosen the slower map will generate as it has more spatial data to process.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" title="1"><span class="kw"><a href="../reference/generate_map.html">generate_map</a></span>(<span class="dt">varId =</span> <span class="st">"60559"</span>, <span class="dt">year =</span> <span class="st">"2017"</span>, <span class="dt">unitLevel =</span> <span class="dv">3</span>)</a></code></pre></div>
</div>
<div id="multi-download" class="section level3">
<h3 class="hasAnchor">
<a href="#multi-download" class="anchor"></a>Multi download</h3>
<p>Downloading functions <code><a href="../reference/get_data_by_unit.html">get_data_by_unit()</a></code> and <code><a href="../reference/get_data_by_variable.html">get_data_by_variable()</a></code> have alternative “multi” downloading mode. Function that would work for example single unit, if provided a vector will make additional column with values for each unit provided:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" title="1"><span class="kw"><a href="../reference/get_data_by_unit.html">get_data_by_unit</a></span>(<span class="dt">unitId =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"023200000000"</span>, <span class="st">"020800000000"</span>), <span class="dt">varId =</span>  <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"3643"</span>, <span class="st">"2137"</span>, <span class="st">"148190"</span>))</a>
<a class="sourceLine" id="cb18-2" title="2"><span class="co">#&gt; Joining, by = c("id", "year")</span></a>
<a class="sourceLine" id="cb18-3" title="3"><span class="co">#&gt; # A tibble: 49 x 4</span></a>
<a class="sourceLine" id="cb18-4" title="4"><span class="co">#&gt;   id    year  val_023200000000 val_020800000000</span></a>
<a class="sourceLine" id="cb18-5" title="5"><span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt;            &lt;dbl&gt;            &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb18-6" title="6"><span class="co">#&gt; 1 2137  1998             10402            10929</span></a>
<a class="sourceLine" id="cb18-7" title="7"><span class="co">#&gt; 2 2137  1999             95582            10125</span></a>
<a class="sourceLine" id="cb18-8" title="8"><span class="co">#&gt; 3 2137  2000             12977             2190</span></a>
<a class="sourceLine" id="cb18-9" title="9"><span class="co">#&gt; 4 2137  2001              1486             2340</span></a>
<a class="sourceLine" id="cb18-10" title="10"><span class="co">#&gt; # ... with 45 more rows</span></a></code></pre></div>
<p>Or multiple variables for <code><a href="../reference/get_data_by_variable.html">get_data_by_variable()</a></code>:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" title="1"><span class="kw"><a href="../reference/get_data_by_variable.html">get_data_by_variable</a></span>(<span class="dt">varId =</span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"3643"</span>,<span class="st">"420"</span>), <span class="dt">unitParentId =</span> <span class="st">"010000000000"</span>)</a>
<a class="sourceLine" id="cb19-2" title="2"><span class="co">#&gt; Joining, by = c("id", "name", "year")</span></a>
<a class="sourceLine" id="cb19-3" title="3"><span class="co">#&gt; # A tibble: 100 x 5</span></a>
<a class="sourceLine" id="cb19-4" title="4"><span class="co">#&gt;   id           name                   year  val_3643 val_420</span></a>
<a class="sourceLine" id="cb19-5" title="5"><span class="co">#&gt;   &lt;chr&gt;        &lt;chr&gt;                  &lt;chr&gt;    &lt;dbl&gt;   &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb19-6" title="6"><span class="co">#&gt; 1 010000000000 MAKROREGION POŁUDNIOWY 1999        12  225459</span></a>
<a class="sourceLine" id="cb19-7" title="7"><span class="co">#&gt; 2 010000000000 MAKROREGION POŁUDNIOWY 2000         9  129602</span></a>
<a class="sourceLine" id="cb19-8" title="8"><span class="co">#&gt; 3 010000000000 MAKROREGION POŁUDNIOWY 2001        10  140821</span></a>
<a class="sourceLine" id="cb19-9" title="9"><span class="co">#&gt; 4 010000000000 MAKROREGION POŁUDNIOWY 2002         8   78668</span></a>
<a class="sourceLine" id="cb19-10" title="10"><span class="co">#&gt; # ... with 96 more rows</span></a></code></pre></div>
<p>This type of downloading is removing some of columns from original “single” data download.</p>
<p>This mode works for locality version as well.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#intro">Intro</a></li>
      <li><a href="#searching-unit-id">Searching unit id</a></li>
      <li><a href="#searching-subject-and-variable-id">Searching subject and variable id</a></li>
      <li><a href="#downloading-data">Downloading data</a></li>
      <li><a href="#useful-tools">Useful tools</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Krzysztof Kania.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.9100.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
